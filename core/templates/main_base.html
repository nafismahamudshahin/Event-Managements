{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock title %}</title>
    <script src="https://kit.fontawesome.com/39f0ad8315.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{% static 'css/output.css' %}">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body>
  <header class="bg-gray-500 shadow ">
  {% if request.user.is_authenticated %}
      {% with request.user.groups.first as group %}
          {% if group %}
              {% if group.name == "User" %}
                  {% include "user/user_nav.html" %}
              {% elif group.name == "Admin" %}
                  {% include "admin/admin_nav.html" %}
              {% elif group.name == "organizer" %}
                  {% include "organizer/organizer_nav.html" %}
              {% endif %}
          {% endif %}
      {% endwith %}
  {% else %}
      {% include "non_login_nav.html" %}
  {% endif %}
  {% comment %} show all action messages {% endcomment %}
  {% if messages %}
  <div id="message-box"
    class="fixed top-5 right-5 z-50 
    {% if message.tags == "success" %}
      bg-blue-600 text-white 
    {% else %}
      bg-red-500 text-black
    {% endif %} 
    border border-rose-400 px-4 py-3 rounded shadow-md"
  
  >
    {% for message in messages %}
      <p class="font-semibold">{{ message }}</p>
    {% endfor %}
  </div>
  {% endif %}

</header>
<main class="mb-5 mx-3">
    {% block content %}

    {% endblock content %}
</main>


{% comment %} footer area here {% endcomment %}
<footer class="bg-gray-900 text-gray-300 py-8 mt-10">
  <div class="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8">
    
    <!-- About Section -->
    <div>
      <h2 class="text-lg font-semibold text-white mb-3">About Us</h2>
      <p class="text-sm">
        Event Management System helps you to create, manage and track all your events easily.  
        Stay organized and make your events successful with us.
      </p>
    </div>

    <!-- Quick Links -->
    <div>
      <h2 class="text-lg font-semibold text-white mb-3">Quick Links</h2>
      <ul class="space-y-2">
        <li><a href="#" class="hover:text-white transition">Home</a></li>
        <li><a href="#" class="hover:text-white transition">Events</a></li>
        <li><a href="#" class="hover:text-white transition">Categories</a></li>
        <li><a href="#" class="hover:text-white transition">Contact</a></li>
      </ul>
    </div>

    <!-- Contact Section -->
    <div>
      <h2 class="text-lg font-semibold text-white mb-3">Contact</h2>
      <p class="text-sm">Email: support@nafis.com</p>
      <p class="text-sm">Phone: +880 888999890</p>
      <div class="flex space-x-4 mt-3">
        <a href="#" class="hover:text-white"><i class="fa-brands fa-facebook"></i></a>
        <a href="#" class="hover:text-white"><i class="fa-brands fa-twitter"></i></a>
        <a href="#" class="hover:text-white"><i class="fa-brands fa-instagram"></i></a>
      </div>
    </div>
  </div>

  <!-- Bottom Section -->
  <div class="text-center text-gray-500 text-sm border-t border-gray-700 mt-8 pt-4">
    Â© 2025 Event Management System. All Rights Reserved.
  </div>
</footer>
<script>
const menuBtn = document.getElementById("menu-btn"); // if exists
  const mobileMenu = document.getElementById("mobile-menu");
  if (menuBtn && mobileMenu) {
    menuBtn.addEventListener("click", () => {
      mobileMenu.classList.toggle("hidden");
    });
  }

  // ===== Dashboard Toggle (your navbar button) =====
  const dashboardMenuToggle = document.getElementById("menu-toggle");
  if (dashboardMenuToggle) {
    dashboardMenuToggle.addEventListener("click", () => {
      mobileMenu.classList.toggle("hidden");
    });
  }

  // ===== User Dropdown =====
  const userMenuBtn = document.getElementById("user-menu-btn");
  const userMenu = document.getElementById("user-menu");

  if (userMenuBtn && userMenu) {
    userMenuBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      userMenu.classList.toggle("hidden");
    });

    // Close when clicking outside
    window.addEventListener("click", (e) => {
      if (!userMenuBtn.contains(e.target)) {
        userMenu.classList.add("hidden");
      }
    });
  }




    {% comment %} const menuBtn = document.getElementById("menu-btn");
    const mobileMenu = document.getElementById("mobile-menu");

    menuBtn.addEventListener("click", () => {
        mobileMenu.classList.toggle("hidden");
    });

    {% comment %} for dashboard {% endcomment %}
      {% comment %} document.getElementById("menu-toggle").addEventListener("click", function () {
      document.getElementById("mobile-menu").classList.toggle("hidden");
    });

    document.getElementById("user-menu-button").addEventListener("click", function () {
        document.getElementById("user-menu").classList.toggle("hidden");
    }); {% endcomment %}

      {% comment %} // Close the dropdown when clicking outside
    window.addEventListener("click", function (e) {
        if (!document.getElementById("user-menu-button").contains(e.target)) {
          document.getElementById("user-menu").classList.add("hidden");
        }
    }); {% endcomment %}


    setTimeout(() => {
      const msgBox = document.getElementById('message-box');
      if (msgBox) {
        msgBox.style.opacity = '0';
        setTimeout(() => msgBox.remove(), 500);
      }
    }, 2000);
</script>
</body>
</html>